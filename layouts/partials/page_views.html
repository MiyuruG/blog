<!-- GoatCounter tracking & pageview display -->
<span class="page-views" id="{{ .File.UniqueID }}">
  Loading views...
</span>

<!-- Official GoatCounter script -->
<script data-goatcounter="https://miyurug.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<script>
  // Wait until the GoatCounter script is loaded
  window.addEventListener('load', function() {
    // Use GoatCounter API if available
    if (window.goatcounter && typeof window.goatcounter.count === "function") {
      // Update the span with views using GoatCounter's count function
      const el = document.getElementById('{{ .File.UniqueID }}');
      // GoatCounter doesn't provide a public JSON for counts due to CORS,
      // but you can link to GoatCounter dashboard or show "View count recorded"
      el.innerText = 'View count recorded';
    }
  });
</script>
